\subsection{Fonctions mesurables}

\begin{definition}
	Soient $(E, \mathscr{A})$ et $(F, \mathscr{B})$ deux espaces mesurables.\\
	Une fonction $f: E \to F$ est dite mesurable si $f^{-1}(B) \in \mathscr{A}$ pour tout $B \in \mathscr{B}$.\\
	Dans le cas où $E$ et $F$ sont munis de leur tribus boréliennes (si elles existent), on dit que $f$ est borélienne.
\end{definition}


\begin{prop}
	Si $f: (E, \mathscr{A}) \to (F, \mathscr{B})$ et $g: (F, \mathscr{B}) \to (G, \mathscr{C})$
	sont mesurables, alors $g \circ f : (E, \mathscr{A}) \to (G, \mathscr{C})$ est mesurable.
\end{prop}

\begin{proof}
	Soit $C \in \mathscr{C}$. On a que $g^{-1}(C) \in \mathscr{B}$ car $g$ est mesurable et
	$f^{-1}(g^{-1}(C)) \in \mathscr{A}$ car $f$ est mesurable.
	Comme $f^{-1}(g^{-1}(C)) = (g \circ f)^{-1}(C)$, on a que $g \circ f$ est mesurable.
\end{proof}


\begin{prop}
	Pour que $f : (E, \mathscr{A}) \to (F, \mathscr{B})$ soit mesurable, il suffit qu'il existe $\mathscr{C} \subset \mathscr{B}$ telle que:
	\begin{enumerate}
		\item $f^{-1}(C) \in \mathscr{A}$ pour tout $C \in \mathscr{C}$.
		\item $\sigma(\mathscr{C}) = \mathscr{B}$
	\end{enumerate}
\end{prop}

\begin{proof}
	Posons $\mathscr{G} = \{ B \in \mathscr{B} \, | \, f^{-1}(B) \in \mathscr{A} \}$. On a que $\mathscr{C} \subset \mathscr{G}$.
	Montrons que $\mathscr{G}$ est une tribu sur $F$.
	\begin{enumerate}
		\item $f^{-1}(\emptyset) = \emptyset \in \mathscr{A}$ donc $\emptyset \in \mathscr{G}$.
		\item Soit $B \in \mathscr{G}$, alors $f^{-1}(B^c) = (f^{-1}(B))^c \in \mathscr{A}$ donc $B^c \in \mathscr{G}$.
		\item Soit $(B_n)_{n \in \mathbb{N}}$ une suite d'éléments de $\mathscr{G}$, alors
		      $f^{-1}(\bigcup\limits_{n \in \mathbb{N}} B_n) = \bigcup\limits_{n \in \mathbb{N}} f^{-1}(B_n) \in \mathscr{A}$ donc
		      $\bigcup\limits_{n \in \mathbb{N}} B_n \in \mathscr{G}$.
	\end{enumerate}
	Ainsi $\mathscr{G}$ est une tribu sur $F$ et $\mathscr{C} \subset \mathscr{G}$.
	On a donc:
	\[ \sigma(\mathscr{B}) = \sigma(\mathscr{C}) \subset \sigma(\mathscr{G}) = \mathscr{G} \]
	Donc $\mathscr{B} \subset \mathscr{G} \subset \mathscr{B}$, donc $\mathscr{B} = \mathscr{G}$.
	On a donc que $f$ est mesurable.
\end{proof}


\begin{exemple}[Application]
	Si $(F, \mathscr{B}) = (\mathbb{R}, \mathscr{B}(\mathbb{R}))$, on peut prendre $\mathscr{C} = \{ ]-\infty,\   t[ \, | \, t \in \mathbb{R} \}$. On a que
				$\sigma(\mathscr{C}) = \mathscr{B}(\mathbb{R})$. Et donc il suffit d'étudier la mesurabilité de $f^{-1}(]-\infty, t[)$.
\end{exemple}


\begin{remarque}
	Si $f : (E,\mathscr{B}(E)) \rightarrow (F,\mathscr{B}(F))$, alors $f$ continue $\implies f$ mesurable:\\
	Soit $U$ un ouvert de $F$, alors $f^{-1}(U)$ est un ouvert de $E$ car $f$ est continue, et donc $f^{-1}(U) \in \mathscr{B}(E)$.
\end{remarque}


\begin{prop}
	La fonction $\1_A : (E,\mathscr{A}) \rightarrow (\mathbb{R},\mathscr{B}(\mathbb{R}))$ est mesurable si et seulement si $A \in \mathscr{A}$.
\end{prop}

\begin{proof}
	$f^{-1}(]-\infty, t]) = \left\{ \begin{array}{crl}
			\emptyset & si & t < 0       \\
			A^c       & si & t \in [0,1[ \\
			E         & si & t \geq 1
		\end{array}
		\right.$\\
	donc $f$ mesurable si et seulement si $A^c\in \mathscr{A}$, si et seulement si $A\in \mathscr{A}$.
\end{proof}

\begin{prop}
	$$f_1 : (E,\mathscr{A}) \rightarrow (F_1,\mathscr{B}_1)$$
	$$f_2 : (E,\mathscr{A}) \rightarrow (F_2,\mathscr{B}_2)$$
	\begin{eqnarray*}
		g: (E \times E,\mathscr{A} \otimes \mathscr{A}) &\rightarrow& (F_1 \times F_2,\mathscr{B}_1 \otimes \mathscr{B}_2)\\
		x &\mapsto& (f_1(x), f_2(x))
	\end{eqnarray*}
	alors $g$ est mesurable si $f_1$ et $f_2$ le sont
\end{prop}

\begin{proof}
	$$\mathscr{B_1} \otimes \mathscr{B}_2 = \sigma \left\{ B_1 \times B_2, B_1 \in \mathscr{B}_1, B_2 \in \mathscr{B}_2 \right\}$$
	$$g^{-1}(B_1 \times B_2) = {x \in E, f_1(x) \in B_1 et f_2(x) \in B_2  }$$
	$$ \underbrace{f_1^{-1}(B_1)}_{\in \triA \text{ car } f_1 \text{ mesurable}} \cap \underbrace{f_2^{-1}(B_2)}_{\in \triA \text{ car } f_2 \text{ mesurable}}$$
	donc $g^{-1}(B_1 \times B_2) \in \mathscr{A}$
\end{proof}

\begin{prop}
	Si $f$ et $g (E,\triA) \rightarrow (F,\bor(\R)$
	sont mesurables, alors les fonctions suivantes sont mesurables:
	\begin{itemize}
		\item $f + g$
		\item $fg$
		\item $\inf(f,g)$
		\item $f^+ = \sup(f,0)$
		\item $f^- = \sup(-f,0)$
	\end{itemize}
\end{prop}

\begin{proof}
	\begin{eqnarray*}
		(\R^2, \bor(\R) \oplus \bor(\R))   &\rightarrow& (\bor(\R), \bor(\R)) \\
		(x,y) &\mapsto& x + y
	\end{eqnarray*}
	est continue donc mesurable. De même pour le reste.
\end{proof}


\begin{definition}
	On note $\Rbar = \R \cup \{ -\infty, \infty \}$ et $\Rbarp = \R^+ \cup \{  +\infty \}$\\
	Dans $\Rbarp , \, \forall a \in \Rbarp: $
	\begin{itemize}
		\item $a + (+\infty) = +\infty$
		\item $a \cdot (+\infty) = \left\{ \begin{array}{cc}
				      0       & \text{si} \  a = 0 \\
				      +\infty & \text{sinon}
			      \end{array}\right.$
	\end{itemize}
\end{definition}

\begin{definition}
	Si $a_n$ est une suite dans $\Rbar$. On définit
	\begin{itemize}
		\item $\sup a_n =
			      \left\{ \begin{array}{cc}
				      +\infty         & \text{si} \ +\infty \ \text{est dans la suite}   \\
				      +\infty         & \text{si} \ \forall M > 0 \ \exists n,\, a_n > M \\
				      \sup a_n \in \R & \text{si} \ a_n\  \text{est majoré}
			      \end{array}\right.$

		\item De même pour le $\inf$
		\item $\limsup a_n = \varlimsup a_n = \lim\limits_{n \to \infty}\downarrow \sup\limits_{k \geq n } a_k \in \Rbar$
		\item $\liminf a_n = \varliminf a_n = \lim\limits_{n \to \infty}\uparrow \inf\limits_{k \geq n } a_k \in \Rbar$
	\end{itemize}
\end{definition}


\begin{remarque}
	On travaillera avec $\bor(\Rbar)$, les boréliens de $\Rbar$ qui sont
	$$\sigma (\left\{[-\infty, a], a \in \R\right\})$$
\end{remarque}


\begin{remarque}
	$\limsup a_n$ est la plus grande valeur d'adhérence de la suite $a_n$, et
	$\liminf a_n$ est la plus petite valeur d'adhérence de la suite $a_n$.
\end{remarque}

\begin{prop}
	Si $f_n$ est une suite de fonctions mesurables
	$$f_n (E,\triA) \rightarrow (\mathbb{R},\bor(\R))$$
	alors les fonctions suivantes sont mesurables:
	\begin{enumerate}
		\item $\sup f_n, \quad \text{qui est} \ x\mapsto \sup f_n(x) $
		\item $\inf f_n$
		\item $\limsup f_n$
		\item $\liminf f_n$
	\end{enumerate}
	En particulier si $f_n$ converge simplement dans $\Rbar$ alors
	$\lim f_n = \limsup f_n$ est mesurable. De plus $\{ x \in E, f_n(a) \ \text{converge}\}$ est mesurable.
\end{prop}

\begin{proof}
	\begin{enumerate}
		\item $f(x) = \inf f_n (x)$
		      \begin{eqnarray*}
			      f^{-1}([-\infty, a[) &=& \{x \in E, \inf f_n < a\} \\
			      &=& \{x \in E, \exists N \in \mathbb{N}, f_N (x) < a \}\\
			      &=& \bigcup\limits_{N\in \mathbb{N}}f_N^{-1}([-\infty, a[))\\
			      &\in& \mathscr{A}
		      \end{eqnarray*}
		\item On peut faire de même pour $\sup$
		\item \begin{eqnarray*}
			      \liminf f_n &=& \lim\limits_{n \to \infty}\uparrow \inf\limits_{k \geq n } a_k\\
			      &=& \sup _{n\in N} \inf_{k \geq n} f_n\\
			      &\in& \mathscr{A}
		      \end{eqnarray*}

		      donc $\liminf$ et $\limsup$ sont mesurables.
		\item
		      %TODO: Fix this proof (potential -infty + infty)
		      \begin{eqnarray*}
			      \{x \in E, f_n \  \text{converge} \}  &=& (\liminf f_n - \limsup f_n)^{-1}(\{0\})\\
		      \end{eqnarray*}
		      et $\{ 0 \} \in \bor(\R)$ donc $\left\{ f_n \in E, f_n(x) \ \text{converge} \ \right\} \in \mathscr{A}$.
	\end{enumerate}

\end{proof}
